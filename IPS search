| basesearch name="IC# reboot and shutdown status"
| append [
    search index=database OR index=custom sourcetype=informatica:node_log 
    (host=utinip72 OR host=utinip73 OR host=ugatix5n OR host=usayix7a OR host=usi8tix6z OR host=uswtix5r)
]
| stats max(Alert_Errors) as entity_value by abnode, _time
| timechart span=15m max(entity_value) as aggregate_value by abnode
| fillnull value=null

 Explanation:
Base Search: Starts with the defined saved search: IC# reboot and shutdown status.

Append: Adds results from the target search filtering specific hosts and logs.

stats max(Alert_Errors) by abnode, _time: Calculates the maximum alert error count per entity (node).

timechart span=15m: Aggregates this over a 600-minute window (configured in KPI settings).

fillnull value=null: To match the spec "fill gaps with null".

⚙️ KPI Settings Summary (in ITSI):
Entity Split Field: abnode

Unit: num

Monitoring Lag: 10

Thresholding:

Per Entity Thresholds:

Normal: 1

Low: 2

Aggregate Thresholds (if needed): Same values

Severity Mapping: Base Severity = Normal

######################################################################
(index=database OR index=custom) (sourcetype="informatica:node_log" OR sourcetype="oracle:alert:text")
| search utinip72 OR utinip73 OR usatix5n OR usatix7a OR usatix6z OR usatix5r
| eval Alert_Errors = if(sourcetype == "oracle:alert:text", 2, 1)

######################################################################
(index=database OR index=custom) (sourcetype="informatica:node_log" OR sourcetype="oracle:listener:text")
| search utinip72 OR utinip73 OR usatixn OR usatix7a OR usatix6z OR usatix5r
| eval Listener_Errors = if(sourcetype=="oracle:listener:text", 2, 1)

What this search does now:
Searches logs from:

The database or custom index.

Only where sourcetype is either informatica:node_log or oracle:listener:text.

Filters events that contain any of the following keywords (in any field):

utinip72, utinip73, usatixn, usatix7a, usatix6z, or usatix5r.

Adds a new field called Listener_Errors:

If the sourcetype is oracle:listener:text, then Listener_Errors = 2.

Otherwise, Listener_Errors = 1.
